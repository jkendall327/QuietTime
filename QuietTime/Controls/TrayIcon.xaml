<UserControl x:Class="QuietTime.Controls.TrayIcon"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:QuietTime.Controls" 
             xmlns:hardcodet="http://www.hardcodet.net/taskbar"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <BitmapImage x:Key="Icon" UriSource="../icon.ico" />
    </UserControl.Resources>

    <hardcodet:TaskbarIcon DataContext="{Binding}" ToolTipText="QuietTime" IconSource="{StaticResource Icon}">
        <hardcodet:TaskbarIcon.ContextMenu>
            <ContextMenu>

                <TextBlock Text="{Binding CurrentVolume, StringFormat=Current volume: {0}}"/>
                <TextBlock Text="{Binding MaxVolume, StringFormat=Current max: {0}}"/>
                <Separator/>

                <MenuItem Command="{Binding LockVolume}" Header="Lock/unlock"/>
                <Separator/>

                <MenuItem Header="Show main window" Command="{Binding ShowAppCommand}"/>
                <MenuItem Header="Exit QuietTime" Command="{Binding CloseAppCommand}"/>

            </ContextMenu>
        </hardcodet:TaskbarIcon.ContextMenu>
    </hardcodet:TaskbarIcon>
    
</UserControl>
